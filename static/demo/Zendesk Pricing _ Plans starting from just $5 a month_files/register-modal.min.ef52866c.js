var registerModal={toggleForm:function(a,b){var c=$(a).parents(".form-wrapper");b?(c.fadeIn(),c.css({top:"0px"}),c.find("aside, .bg-buddhi").fadeIn(800)):(c.find("aside, .bg-buddhi").fadeOut(200),c.fadeOut(200))},validateField:function(a){var b=a.attr("value"),c=a.attr("type"),d=a.attr("placeholder"),e=a.parent().find("label"),f="1"!==e.css("opacity"),g="text"===c&&(""==b||b==d||!/[一-龠]+|[ぁ-ん]+|[ァ-ヴー]+|[a-zA-Z0-9]+|[ａ-ｚＡ-Ｚ０-９]+/.test(b))||"email"===c&&!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(b)||"select"===c&&"-"===b||"password"===c&&b.length<5;return g?(e.css({opacity:f===!1?1:0,left:"20px",display:"block"}).animate({opacity:1,left:"0px"},300),a.removeClass("set").parent().addClass("error")):(e.animate({opacity:0,"margin-left":"1em"},200,function(){$(this).hide(),a.parent().removeClass("error")}),a.addClass("set")),!g},registerLead:function(a,b){for(var c=$(a),d=c.find(".required"),e=b,f=0;f<d.length;f++)registerModal.validateField($(d[f]));if(0===c.find("ul li.error").length){var g=c.find("#select-employees").text(),h=$("#MailingCountry").val();c.find(".loading").css({display:"table"}).end().find("ul").animate({opacity:.1},200).end().siblings("header").animate({opacity:.1},200),"1-9"===g||"10-49"===g&&("United States"===h||"Canada"===h)?$.ajax({url:"/app/pricing",data:c.serialize(),type:"POST",complete:function(b,d){webutils.createLead(a),webutils.track("Pricing > Enterprise Request"),setTimeout(function(){var a=$.parseJSON(b.responseText);"true"===a.success?(c.find("li").css("opacity",0),c.find(".loading").html(e)):(c.find("li").css("opacity",0),c.find(".loading").html("We're sorry. It appears that we may be having technical issues. Please return at a later time or send us a message through our <a href='//www.zendesk.com/support/contact/'>contact page</a>."))},1e3)}}):(webutils.createLead(a),setTimeout(function(){c.find("li").css("opacity",0),c.find(".loading").html(e)},1e3))}},init:function(){$("#contactDemo, #reqDemo").on("click",function(){return $("#demoFormWrapper h3 .plan-title").html($(this).attr("data-plan")),registerModal.toggleForm(".form-contact",!0),$("#plan").val($(this).attr("data-plan")),!1}),$(".close-btn").on("click",function(){registerModal.toggleForm(".form-contact",!1)}),$("form.form-contact").on("keyup",".required",function(){if("active"===$(this).attr("data-state")){var a=$(this);window.clearTimeout(timer),timer=setTimeout(function(){registerModal.validateField(a)},800)}}).on("blur",".required",function(){"active"!=$(this).attr("data-state")&&$(this).attr("data-state","active"),registerModal.validateField($(this))}).on("change","select",function(){"active"!=$(this).attr("data-state")&&$(this).attr("data-state","active"),registerModal.validateField($(this)),$(this).siblings(".select-label").find(".txt").text($(this).val())}),$(".btn-submit").on("click",function(){webutils.setMAVs(!1),registerModal.registerLead(".form-contact",'<p style="color:white;">Your request has been sent.</p><p style="color:white;">One of our customer service representatives will contact you shortly.</p>')}),$("form.form-contact select").change(function(){$(this).parent().find(".select").html(webutils.escapeHTML($(this).find("option:selected").text())+'<span class="toggle"></span>').addClass("set").parent().removeClass("error")}),db&&dbase.registry_country&&$("#MailingCountry").val(dbase.registry_country),$("#owner\\[name\\]").on("blur",function(){var a,b,c=webutils.escapeHTML($(this).val());c=webutils.escapeHTML(c),c.indexOf(" ")!==-1&&(a=c.substr(0,c.indexOf(" ")),b=c.substr(c.indexOf(" ")+1),0===b.length&&(b=c)),$("form.form-contact #FirstName").val(a),$("form.form-contact #LastName").val(b)})}};