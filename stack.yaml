---
AWSTemplateFormatVersion: '2010-09-09'
Description: marketing
Parameters:

  MadKuduHostedZoneID:
    Type: String
    Description: The Route53 HostedZoneId for madkudu.com
    Default: Z3N59X7OW4D5HJ

  CloudfrontHostedZoneID:
    Type: String
    Description: The HostedZone for Cloudfront (AWS Default)
    Default: Z2FDTNDATAQYW2

Mappings:

  RegionMap:
    us-east-1:
      S3HostedZoneId: Z3AQBSTGFYJSTF
      S3WebsiteEndpoint: s3-website-us-east-1.amazonaws.com
    us-west-1:
      S3HostedZoneId: Z2F56UZL2M1ACD
      S3WebsiteEndpoint: s3-website-us-west-1.amazonaws.com
    us-west-2:
      S3HostedZoneId: Z3BJ6K6RIION7M
      S3WebsiteEndpoint: s3-website-us-west-2.amazonaws.com
    eu-west-1:
      S3HostedZoneId: Z1BKCTXD74EZPE
      S3WebsiteEndpoint: s3-website-eu-west-1.amazonaws.com
    ap-southeast-1:
      S3HostedZoneId: Z3O0J2DXBE1FTB
      S3WebsiteEndpoint: s3-website-ap-southeast-1.amazonaws.com
    ap-southeast-2:
      S3HostedZoneId: Z1WCIGYICN2BYD
      S3WebsiteEndpoint: s3-website-ap-southeast-2.amazonaws.com
    ap-northeast-1:
      S3HostedZoneId: Z2M4EHUR26P7ZW
      S3WebsiteEndpoint: s3-website-ap-northeast-1.amazonaws.com
    sa-east-1:
      S3HostedZoneId: Z31GFT0UA1I2HV
      S3WebsiteEndpoint: s3-website-sa-east-1.amazonaws.com

Resources:

  # madkudu.com

  RecordSetGroupWebsite:
    Type: AWS::Route53::RecordSetGroup
    Properties:
      HostedZoneName: madkudu.com.
      RecordSets:
      - Name: madkudu.com.
        Type: TXT
        TTL: 300
        ResourceRecords:
        - '"v=spf1 include:_spf.google.com ~all"'
        - '"google-site-verification=sNT4YkiXl0o9ughleKqXOQtYkbouL1va6tB43O9wjs4"'
      - Name: madkudu.com.
        Type: A
        TTL: 300
        ResourceRecords:
        - 104.198.14.52 # Netlify
      - Name: www.madkudu.com.
        Type: CNAME
        TTL: 300
        ResourceRecords:
        - madkudu.netlify.com
      - Name: intercom._domainkey.madkudu.com.
        Type: CNAME
        TTL: 300
        ResourceRecords:
        - 23759c40-bac7-4f3e-86cd-e838a4174cc3.dkim.intercom.io
      - Name: blog.madkudu.com.
        Type: A
        TTL: 300
        ResourceRecords:
        - 198.187.31.144
